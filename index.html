<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÅ‡∏ú‡πà‡∏ô‡∏à‡∏∏‡πà‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à</title>
  <style>
    body { font-family: 'Tahoma', sans-serif; text-align: center; background: #fef9e7; }
    h1 { color: #e67e22; }
    #basket { margin: 20px; }
    .card { display: inline-block; width: 100px; height: 60px; background: #d35400; 
            color: white; border-radius: 10px; line-height: 60px; cursor: pointer; margin: 10px; }
    #scratch-container { position: relative; width: 320px; margin: 20px auto; }
    #hidden-message { 
      width: 320px; height: 160px; border-radius: 10px; background: #f1c40f; 
      display: flex; justify-content: center; align-items: center; 
      font-size: 20px; font-weight: bold; color: #2c3e50;
    }
    #scratchCanvas {
      position: absolute; top: 0; left: 0;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <h1>‡πÅ‡∏ú‡πà‡∏ô‡∏à‡∏∏‡πà‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à üé¥</h1>
  <div id="basket"></div>

  <div id="scratch-container" style="display:none;">
    <div id="hidden-message">‚ú® ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à ‚ú®</div>
    <canvas id="scratchCanvas" width="320" height="160"></canvas>
  </div>

<script>
const MESSAGES = [
  "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡πá‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‚ú®",
  "‡∏™‡∏π‡πâ ‡πÜ ‡∏ô‡∏∞! üí™",
  "‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô üåü",
  "‡∏û‡∏±‡∏Å‡∏ö‡πâ‡∏≤‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏ô‡∏∞ üí§",
  "‡πÄ‡∏£‡∏≤‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏ò‡∏≠ ‚ù§Ô∏è"
];
const CARD_COUNT = 5; 

// ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
const basket = document.getElementById("basket");
for(let i=0;i<CARD_COUNT;i++){
  let div=document.createElement("div");
  div.className="card";
  div.innerText="‡∏´‡∏¢‡∏¥‡∏ö‡πÅ‡∏ú‡πà‡∏ô "+(i+1);
  div.onclick=()=>startScratch();
  basket.appendChild(div);
}

function startScratch(){
  // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡πà‡∏°
  const msg = MESSAGES[Math.floor(Math.random()*MESSAGES.length)];
  document.getElementById("hidden-message").innerText = msg;

  document.getElementById("scratch-container").style.display="block";
  initScratch();
}

function initScratch(){
  const canvas = document.getElementById("scratchCanvas");
  const ctx = canvas.getContext("2d");

  // ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏±‡∏ö (‡∏™‡∏µ‡πÄ‡∏ó‡∏≤)
  ctx.fillStyle = "#7f8c8d";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  let isDrawing=false;

  function getPos(e){
    const rect=canvas.getBoundingClientRect();
    const clientX = e.touches? e.touches[0].clientX : e.clientX;
    const clientY = e.touches? e.touches[0].clientY : e.clientY;
    return {x: clientX-rect.left, y: clientY-rect.top};
  }

  function scratch(e){
    if(!isDrawing) return;
    const pos=getPos(e);
    ctx.globalCompositeOperation="destination-out";
    ctx.beginPath();
    ctx.arc(pos.x,pos.y,20,0,Math.PI*2);
    ctx.fill();
  }

  canvas.onmousedown=(e)=>{isDrawing=true; scratch(e);};
  canvas.onmousemove=scratch;
  canvas.onmouseup=()=>{isDrawing=false;};
  canvas.onmouseleave=()=>{isDrawing=false;};

  canvas.ontouchstart=(e)=>{isDrawing=true; scratch(e);};
  canvas.ontouchmove=(e)=>{scratch(e); e.preventDefault();};
  canvas.ontouchend=()=>{isDrawing=false;};
}
</script>
</body>
</html>

